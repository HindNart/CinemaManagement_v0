<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" type="image/png" href="./img/film.png" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    
    <link rel="stylesheet" href="/css/cusStyle.css">
    <title>ƒê·∫∑t v√© xem phim</title>
    <style>
    </style>
</head>

<body>
    <div>
        <div id="header">
            <div class="navbar">
                <div class="logo"></div>
                <div class="nav-content">
                    <ul>
                        <li class="nav-dropdown">L·ªãch chi·∫øu
                            <div class="dropdown-content">
                                <a href="#">Phim ƒëang chi·∫øu</a>
                                <a href="#">Phim s·∫Øp chi·∫øu</a>
                            </div>
                        </li>
                        <li>Phim chi·∫øu</li>
                        <li>Review phim</li>
                    </ul>
                </div>
                <div class="user flex">
                    <div class="user-avt">
                        <img class="brr-50" src="/img/phim1.jpg" alt="" width="50px" height="50px">
                    </div>
                    <div class="user-name nav-dropdown">
                        <span th:if="${account != null}"><p th:text="${account.username}"></p></span>
                        <i class="bi bi-chevron-compact-down"></i>
                        <div class="dropdown-content">
                            <a data-bs-toggle="modal" data-bs-target="#exampleModal">Th√¥ng tin</a>
                            <a th:href="@{/logout}">ƒêƒÉng xu·∫•t</a>
                        </div>
                    </div>
                </div>
            </div>
            <div class="banner">
                <div class="banner-content">
                    <h1 class="banner-content-title">ƒê·∫∑t mua v√© xem phim</h1>
                    <ul class="banner-content-list">
                        <li>
                            <div class="banner-content-icon">‚úîÔ∏è</div>
                            <p>Mua v√© online, <b>tr·∫£i nghi·ªám phim hay</b></p>
                        </li>
                        <li>
                            <div class="banner-content-icon">‚úîÔ∏è</div>
                            <p>ƒê·∫∑t v√© <b>an to√†n</b></p>
                        </li>
                        <li>
                            <div class="banner-content-icon">‚úîÔ∏è</div>
                            <p>Tha h·ªì<b> ch·ªçn ch·ªó ng·ªìi, mua b·∫Øp n∆∞·ªõc </b> ti·ªán l·ª£i</p>
                        </li>
                        <li>
                            <div class="banner-content-icon">‚úîÔ∏è</div>
                            <p><b>L·ªãch s·ª≠ ƒë·∫∑t v√©</b> ƒë∆∞·ª£c l∆∞u l·∫°i ngay</p>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
		
        <div id="now-showing">
            <div class="now-showing-background">
                <div class="now-showing-title">
                    <h1>Phim ƒëang chi·∫øu</h1>
                </div>
                <img src="./img/momo-upload-api-210701105436-637607336767432408.jpg" alt="">
            </div>
            <div class="now-showing-list">
                 <div id="carouselExampleInterval" class="carousel slide" data-bs-ride="carousel">
		    <div class="carousel-inner">
		        <!-- Carousel Item 1 -->
		        <div class="carousel-item active " data-bs-interval="10000">
		            <div class="row justify-content-around mx-5">
		                <div class="now-showing-items col-2" th:each="movie, iterStat : ${movies}" th:if="${iterStat.index < 5}">
		                    <!-- Th√™m m√£ HTML c·ªßa phim v√†o ƒë√¢y -->
		                    <div class="now-showing-img">
		                        <a th:href="@{/film/{id}(id=${movie.idPhim})}">
		                            <img th:src="${movie.LinkPoster}" alt="" width="200px" height="300px">
		                        </a>
		                    </div>
		                    <div class="now-showing-name">
		                        <p th:text="${movie.tenPhim}"></p>
		                    </div>
		                    <div class="now-showing-category">
		                        <p th:text="${movie.theLoai}"></p>
		                    </div>
		                    <div class="now-showing-rate">üåü<span th:text="${#numbers.formatDecimal(averageRatings[movie.idPhim], 1, 1)}"></span>
							</div>
		                </div>
		            </div>
		        </div>
		        <!-- Carousel Item 2, 3, ... -->
		        <!-- Chia nh√≥m phim th√†nh c√°c carousel-item m·ªõi -->
		        <div class="carousel-item" data-bs-interval="10000">
		            <div class="row justify-content-around mx-5">
		                <div class="now-showing-items col-2" th:each="movie, iterStat : ${movies}" th:if="${iterStat.index >= 5 and iterStat.index < 10}">
		                    <!-- Th√™m m√£ HTML c·ªßa phim v√†o ƒë√¢y -->
		                    <div class="now-showing-img">
		                        <a th:href="@{/film/{id}(id=${movie.idPhim})}">
		                            <img th:src="${movie.LinkPoster}" alt="" width="200px" height="300px">
		                        </a>
		                    </div>
		                    <div class="now-showing-name">
		                        <p th:text="${movie.tenPhim}"></p>
		                    </div>
		                    <div class="now-showing-category">
		                        <p th:text="${movie.theLoai}"></p>
		                    </div>
		                    <div class="now-showing-rate">üåü<span th:text="${#numbers.formatDecimal(averageRatings[movie.idPhim], 1, 1)}"></span></div>
		                </div>
		            </div>
		        </div>
		    </div>
		    <!-- N√∫t ƒëi·ªÅu khi·ªÉn slide -->
		    <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleInterval" data-bs-slide="prev">
		        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
		        <span class="visually-hidden">Previous</span>
		    </button>
		    <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleInterval" data-bs-slide="next">
		        <span class="carousel-control-next-icon" aria-hidden="true"></span>
		        <span class="visually-hidden">Next</span>
		    </button>
		</div>

		
            </div>
        </div>
        
        
        <!-- User section -->
        
        <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
		  <div class="modal-dialog md">
		    <div class="modal-content">
		      <div class="modal-header">
		        <h1 class="modal-title fs-5" id="exampleModalLabel">Th√¥ng tin t√†i kho·∫£n</h1>
		        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
		      </div>
		      <div class="modal-body">
		      
		        <form th:action="@{/updateAccount}" th:object="${account}" method="post">
					  <div class="row mb-3">
					    <label for="inputEmail3" class="col-sm-3 col-form-label">Email:</label>
					    <div class="col-sm-9">
					      <input type="email" class="form-control" id="inputEmail3" th:field="*{email}" th:value="${account.email}"required>
					    </div>
					  </div>
					  <div class="row mb-3">
					    <label for="username" class="col-sm-3 col-form-label">Username:</label>
					    <div class="col-sm-9">
					      <input type="text" class="form-control" id="username" th:field="*{username}" th:value="${account.username}" required>
					    </div>
					  </div>
					  
					  
					  <div class="row mb-3">
					    <label for="inputPassword3" class="col-sm-3 col-form-label">Password:</label>
					    <div class="col-sm-9">
					      <input type="password" class="form-control" id="inputPassword3" th:field="*{password}" th:value="${account.password}"
					       pattern=".{8,}" title="Password ph·∫£i c√≥ √≠t nh·∫•t 8 k√Ω t·ª±" required>
					    </div>
					  </div>
					  <div class="row mb-3">
					    <label for="inputPassword3" class="col-sm-3 col-form-label">ƒêi·ªÉm:</label>
					    <div class="col-sm-9">
					      <input type="text" class="form-control" id="" th:value="${account.diem}" th:field="*{diem}" readonly>
					    </div>
					  </div>
					  <button type="submit" class="btn btn-primary float-end">L∆∞u</button>
				</form>
		      </div>
		    </div>
		  </div>
		</div>
       
        <div id="footer">
            <p>¬©Copyright by Huy</p>
        </div>
    </div>
</body>
</html>
